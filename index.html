<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hdwill | 记忆夹子</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hdwill | 记忆夹子">
<meta property="og:url" content="http://hdwill.info/index.html">
<meta property="og:site_name" content="Hdwill | 记忆夹子">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hdwill | 记忆夹子">
  
    <link rel="alternate" href="/atom.xml" title="Hdwill | 记忆夹子" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hdwill | 记忆夹子</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hdwill.info"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2018/Learn-CSS-Variables-in-5-minutes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/Learn-CSS-Variables-in-5-minutes/" class="article-date">
  <time datetime="2018-03-22T15:00:00.000Z" itemprop="datePublished">2018-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/Learn-CSS-Variables-in-5-minutes/">【译】CSS Variables 快速上手</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="关于如何快速开始的教程"><a href="#关于如何快速开始的教程" class="headerlink" title="关于如何快速开始的教程"></a>关于如何快速开始的教程</h2><p>CSS 自定义属性（也称之为变量）对于前端开发人员来说是一个制胜点。为 CSS 中引入了变量，算是为 CSS 赋予了新的力量，如此一来可以让代码变得更加简洁、灵活。</p>
<p>另外，CSS 原生的变量属于 DOM 的一部分，和预处理器中的不同，相比之下带来了更多的好处。所以更像是 SASS 和 LESS 中的类里的变量。在这篇文章中，我将带你快速学习这项新技术。</p>
<h3 id="为什么要用-CSS-变量"><a href="#为什么要用-CSS-变量" class="headerlink" title="为什么要用 CSS 变量"></a>为什么要用 CSS 变量</h3><p>有很多理由让你在 CSS 中使用变量，其中最引人注目的一点就是减少你样式文件中的重复代码。（单纯的描述性语言中，难免会有很多重复）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* The old way */</span></span><br><span class="line"><span class="selector-id">#title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6f69</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.quote</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6f69</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在上面的例子中，我们可以通过创建一个变量，比单纯的去重复书写要好一些，就像我们的如下代码：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* The new way */</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--red</span>: <span class="number">#ff6f69</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--red);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.quote</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--red);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样做不仅仅使你的代码更容易阅读，而且在你要更改色值的时候也提供了更多的灵活性。</p>
<p>如今 SASS 和 LESS 变量确实可以继续使用下去，但是，CSS 变量有一些很大的好处。</p>
<ol>
<li>它们不需要任务转移工作，因为是浏览器原生属性。所以你不需要做任何设置就可以开始使用，就像你使用 SASS 和 LESS 一样。</li>
<li>它们属于 DOM，从而带来了很多好处，我们加来本文和后续的课程中介绍这些。</li>
</ol>
<p>现在让我们开始学习 CSS 变量！</p>
<h3 id="声明你的第一个-CSS-变量"><a href="#声明你的第一个-CSS-变量" class="headerlink" title="声明你的第一个 CSS 变量"></a>声明你的第一个 CSS 变量</h3><p>要声明一个变量，首先需要确定变量存在的范围。如果作为全局变量使用它，就要在 <code>:root</code> 这个伪类上声明。这样就能匹配到文档树中的根元素（通常是 <code>&lt;html&gt;</code> 标签）</p>
<p>随着变量被继承，整个 web 项目中的变量都可以用，因为所有的 DOM 元素都是 <code>&lt;html&gt;</code> 标签的后代元素。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--red</span>: <span class="number">#ff6f69</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>正如你所看到的，你可以像设置任何一个 CSS 属性那样去声明一个变量，变量名称必须以两个连接符开始。</p>
<p>要访问到变量，需要使用 <code>var()</code> 函数，并将变量名作为参数传入，如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--main-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="声明一个局部变量"><a href="#声明一个局部变量" class="headerlink" title="声明一个局部变量"></a>声明一个局部变量</h3><p>当然了，也可以声明一个局部变量，这些局部变量只能对其声明的元素及其它的子元素访问。如果知道某个变量仅用于应用程序的特定部分（或多个部分），则这是有意义的。</p>
<p>例如，你可能有一个 <code>alert box</code> 它用到了某个特殊的色值，这个色值不会在项目中其余的地方使用。在这种情况下，避免将其定义为全局变量是有道理的：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.alert</span> &#123;</span><br><span class="line">  <span class="attribute">--alert-color</span>: <span class="number">#ff6f69</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这种变量只能用在它的子元素上：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.alert</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--alert-color);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--alert-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果你尝试将这个局部变量在程序的其他地方使用，比如用在 <code>navbar</code> 上没有任何作用。浏览器会活忽略这行 CSS 代码。</p>
<h3 id="通过变量更容易相应"><a href="#通过变量更容易相应" class="headerlink" title="通过变量更容易相应"></a>通过变量更容易相应</h3><p>CSS 变量的一大优点是它可以访问 DOM。而对于 LESS、SASS，情况并非如此，它们的变量被便宜为常规的 CSS 代码。</p>
<p>在实践中，你可以像下面的例子这样，修改基于屏幕宽度的变量：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--main-font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">media</span> <span class="selector-tag">all</span> <span class="selector-tag">and</span> (<span class="selector-tag">max-width</span>: 600<span class="selector-tag">px</span>) &#123;</span><br><span class="line">  :root &#123;</span><br><span class="line">    <span class="selector-tag">--main-font-size</span>: 12<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过这几行简单的代码，你可以为整个应用在小屏幕上做好字体的适配。这样的处理方式是不是很优雅？</p>
<h3 id="通过-JavaScript-访问-CSS-变量"><a href="#通过-JavaScript-访问-CSS-变量" class="headerlink" title="通过 JavaScript 访问 CSS 变量"></a>通过 JavaScript 访问 CSS 变量</h3><p>使用 DOM 内部的属性的另一个优点就是你可以通过 JavaScript 访问、更新变量便于交互。如果你想让你的用户能够更改你的网站（比如调整字体大小），这非常合适。</p>
<p>让我们继续本文开始的例子。在 JavaScript 中拿到 CSS 变量只需要如下 3 行代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> root = <span class="built_in">document</span>.querySelector(<span class="string">':root'</span>);</span><br><span class="line"><span class="keyword">var</span> rootStyles = getComputedStyle(root);</span><br><span class="line"><span class="keyword">var</span> mainColor = rootStyles.getPropertyValue(<span class="string">'--main-color'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(mainColor);</span><br><span class="line">--&gt; <span class="string">'#ffeead'</span></span><br></pre></td></tr></table></figure>
<p>更新 CSS 变量，只需在你声明的变量上调用 <code>setProperty</code> 方法，将变量名作为第一个参数，并将新值作为第二个参数传入。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root.style.setProperty(<span class="string">'--main-color'</span>, <span class="string">'#88d8b0'</span>)</span><br></pre></td></tr></table></figure>
<p>这种主色可以改变你的应用程序的外观，所以它是允许用户设置你的网站的主题的最佳途径。</p>
<h3 id="浏览器支持情况"><a href="#浏览器支持情况" class="headerlink" title="浏览器支持情况"></a>浏览器支持情况</h3><p>目前全球 77% 的网站支持 CSS 变量，美国接近 90%。我们已经在 <a href="Scrimba.com">Scrimba.com</a> 上使用 CSS 变量有一段时间了，因为我们的观众大都精通技术，而且大多数都是用现代浏览器。</p>
<p><a href="https://caniuse.com/#search=css%20variable" target="_blank" rel="noopener">Can I use CSS Variables (Custom Properties)</a></p>
<p>好了，就是这样。我希望你学到了一些东西。</p>
<p>如果你想好好的学习一番，请务必在 <a href="https://scrimba.com/g/gcssvariables" target="_blank" rel="noopener">Scrimba</a> 上查看我的免费 CSS Variables 课程。</p>
<h3 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h3><p>原作地址 - <a href="https://medium.freecodecamp.org/learn-css-variables-in-5-minutes-80cf63b4025d" target="_blank" rel="noopener">Learn CSS Variables in 5 minutes</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2018/Learn-CSS-Variables-in-5-minutes/" data-id="cjfjqjf6p001e1ox80gfmx642" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS-Variables/">CSS Variables</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017/Setup-PDF.js-in-your-website" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/Setup-PDF.js-in-your-website/" class="article-date">
  <time datetime="2017-03-05T14:00:00.000Z" itemprop="datePublished">2017-03-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/Setup-PDF.js-in-your-website/">PDF.js 本地部署</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="项目需求"><a href="#项目需求" class="headerlink" title="项目需求"></a>项目需求</h2><ol>
<li><p>我们产品的桌面版有输出 pdf 功能，并且能借助浏览器预览和打印，好的是 chrome 和 firefox 中都集成了 PDF.js 这样就能很好的实现这些功能。</p>
</li>
<li><p>然后新的需求又来了，PDF.js 在浏览器中保持默认的设置，功能比较齐全，然后还想设置一些限制在其中，就感觉特别乏力了，最终也不了了之。</p>
</li>
<li><p>接着又是一波新需求，在手机中要能查看 pdf。好了，这下不得不考虑将 PDF.js 集成到项目中了。</p>
</li>
</ol>
<h2 id="实现细节"><a href="#实现细节" class="headerlink" title="实现细节"></a>实现细节</h2><h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><p>项目地址：<a href="https://github.com/mozilla/pdf.js" target="_blank" rel="noopener">https://github.com/mozilla/pdf.js</a></p>
<blockquote>
<p>PDF.js、pdf.js是一款使用HTML5 Canvas安全地渲染PDF文件以及遵从网页标准的网页浏览器渲染PDF文件的JavaScript库。</p>
</blockquote>
<p>这里有详细的说明文档，如果不想自己编译的话直接去 releases 里下载合适的版本即可，下载解压后的目录如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./pdfjs-1.10.88-dist</span><br><span class="line">  ├── build/</span><br><span class="line">  ├── web/ 这里根据项目需求，最终会更换成`mobile-viewer`目录里的资源</span><br><span class="line">  └── LICENSE</span><br></pre></td></tr></table></figure></p>
<p>打开各目录看了之后，其中<code>web</code>目录中就是 PDF.js 将要用到的预览容器和部分资源，而 <code>viewer.html</code> 就是 PDF.js 浏览要用到的页面，是成品哦！<code>build</code>里面是核心的库文件。这时你直接打开 <code>viewer.html</code> 后直接看到的就是最终效果。</p>
<p>如果不能正常浏览，就需要在 web 服务器中，才能正常浏览。如果没有可以借助文档中，编译的那部分，借助 node.js 和 gulp 很快也能搭起来，顺便也可以自己编译。而且也能看到后续我们需要的 mobile 版本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ git clone git://github.com/mozilla/pdf.js.git</span><br><span class="line">$ cd pdf.js</span><br><span class="line">$ npm install -g gulp-cli</span><br><span class="line">$ npm install</span><br><span class="line">$ gulp server</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">$ gulp server</span><br><span class="line">[11:33:40] Using gulpfile D:\Documents\GitHub\pdf.js\gulpfile.js</span><br><span class="line">[11:33:40] Starting &apos;server&apos;...</span><br><span class="line"></span><br><span class="line">### Starting local server</span><br><span class="line">Server running at http://localhost:8888/</span><br></pre></td></tr></table></figure>
<p>这时在浏览器中就能看到预览效果，<a href="https://mozilla.github.io/pdf.js/web/viewer.html" target="_blank" rel="noopener">PDF.js Online demo</a>。不得不服，这么强大的东西，各设备适配还是很棒的！</p>
<ol>
<li><p>桌面版<br><img src="http://7xtjgk.com1.z0.glb.clouddn.com/pdfjs_desktop.png" alt="pdfjs_desktop"></p>
</li>
<li><p>桌面版在手机端的效果<br><img src="http://7xtjgk.com1.z0.glb.clouddn.com/pdfjs_desktop_portrait.png" alt="pdfjs_desktop_portrait"><br><img src="http://7xtjgk.com1.z0.glb.clouddn.com/pdfjs_desktop_landscape.png" alt="pdfjs_desktop_landscape"></p>
</li>
</ol>
<p>再回顾下刚才用 clone 的文件，其中 <code>example</code> 文件夹里列出来了各种应用场景下的例子，你会惊喜的看到 <code>mobile-viewer</code> 文件夹，直接去浏览即可看到移动端的适配效果。</p>
<ol>
<li>手机版<br><img src="http://7xtjgk.com1.z0.glb.clouddn.com/pdfjs_mobile_portrait.png" alt="pdfjs_desktop_portrait"><br><img src="http://7xtjgk.com1.z0.glb.clouddn.com/pdfjs_mobile_landscape.png" alt="pdfjs_desktop_landscape"></li>
</ol>
<p><code>mobile-viewer</code> 文件夹里对应的各文件，就是手机版要用到的，也就是最终要合进项目中的。</p>
<h3 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h3><p>以上这些预览效果都是目录里自带的文件<code>compressed.tracemonkey-pldi-09.pdf</code>，根据实际的渲染效果和等待时间，各设备略有差异。</p>
<p>通过搜索<code>viwer.js</code>中可以发现这个文件的出处：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var DEFAULT_URL = &apos;../../web/compressed.tracemonkey-pldi-09.pdf&apos;;</span><br></pre></td></tr></table></figure></p>
<p>这里是固定文件的访问。如果想在自己的网站内用 PDF.js 打开任意 pdf 文件，可以这样调用：<br><a href="https://github.com/mozilla/pdf.js/wiki/Setup-pdf.js-in-a-website" target="_blank" rel="noopener">Setup PDF.js in a website</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;/web/viewer.html?file=%2Fyourpdf.pdf&quot;&gt;Open yourpdf.pdf with PDF.js&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<p>我们的应用场景是，这个页面内既能浏览 pdf，还有别的内容要展示。这样一来好端端的页面就被破坏了 ╮(╯▽╰)╭。目前就尝试着在这个页面内潜入 iframe，在 iframe 中潜入了 <code>viewer.html</code> 然后在<code>file</code>参数上传入 pdf 的路径……再根据实际情况，对皮肤也做了定制，最终效果图就不展示了 /(ㄒoㄒ)/~~</p>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>常见的有跨域问题，这些搜索之后都能解决。但是我们的服务器端也配置过了，直接浏览传入<code>file</code>参数之后，还是不能访问。后来换用 iframe 调用之后没出现过跨域问题，但是又有了新的问题<code>file origin does not match viewer&#39;s</code>，这是一项安全措施，大致意思是说你打开的协议和 url 的协议不匹配，难道是因为那个 file 什么的？将这部分注释掉即可。</p>
<ul>
<li><a href="https://github.com/mozilla/pdf.js/pull/6916" target="_blank" rel="noopener">Allow foriegn origin URLs only for hosted viewers.</a></li>
<li><a href="https://github.com/mozilla/pdf.js/wiki/Frequently-Asked-Questions" target="_blank" rel="noopener">Frequently Asked Questions</a></li>
</ul>
<p>好了，内测貌似没什么问题了，接着又加了部分需求。准备上线测试，结果发现 PDF.js 在安卓版的微信中打开时，当前页面会直接关闭，然而高贵的 iOS 却好好的，搜了一下相关问题，真的是太可怕了，到目前为止，这个问题还在继续研究中！因为同一部手机，有的数据就会意外关闭，有的却能正常浏览。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2017/Setup-PDF.js-in-your-website/" data-id="cjfjqjf6l00181ox835jpqohw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PDF-js/">PDF.js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2015/grunt-spritesmith-handbook" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/grunt-spritesmith-handbook/" class="article-date">
  <time datetime="2015-11-05T04:00:00.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/grunt-spritesmith-handbook/">grunt-spritesmith 使用笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>好久以前介绍了 <a href="http://hdwill.info/post/2014/compass-sprite">利用 Compass 生成 Sprite 图片</a>，后来在使用中也表现良好，后来对于 retina 屏幕做适配，发现其并不能满足需求，尝试了一番工具之后，找到这个工具。在一番适配之后，发现能满足目前的需求，状况还不错。<br>其实在长期使用 Grunt 之后，发现这些类似的构建工具的确能够帮我处理很多繁琐的任务，但是前期的学习成本对我来说还是有的。而且对于这些工具，一旦有适合你需求的插件，那当然没问题；若是并不能满足你的需求，要么新找插件、要么自己写一个吧 &lt;(￣ˇ￣)/，其实更多的精力还是放在代码本身好了，下面接入正题：</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install grunt-spritesmith --save-dev</span><br></pre></td></tr></table></figure>
<h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><p>可根据 <a href="https://github.com/Ensighten/grunt-spritesmith#getting-started" target="_blank" rel="noopener">官方文档</a> 和自身项目情况，配置 <code>Gruntfile.js</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Spritesheet making utility</span></span><br><span class="line">sprite: &#123;</span><br><span class="line">  front: &#123;</span><br><span class="line">    <span class="comment">// 源文件地址</span></span><br><span class="line">    src: <span class="string">'&lt;%= config.src %&gt;/images/sprites/*.png'</span>,</span><br><span class="line">    <span class="comment">// 对应的 2x 图片文件</span></span><br><span class="line">    retinaSrcFilter: <span class="string">'&lt;%= config.src %&gt;/images/sprites/*@2x.png'</span>,</span><br><span class="line">    <span class="comment">// 生成的 sprites 文件</span></span><br><span class="line">    dest: <span class="string">'&lt;%= config.src %&gt;/images/sprites.png'</span>,</span><br><span class="line">    <span class="comment">// 生成的 sprites-2x 文件</span></span><br><span class="line">    retinaDest: <span class="string">'&lt;%= config.src %&gt;/images/sprites-2x.png'</span>,</span><br><span class="line">    <span class="comment">// 输出的 scss 文件，这里也可以输出 css 文件</span></span><br><span class="line">    destCss: <span class="string">'&lt;%= config.src %&gt;/sass/_sprites.scss'</span>,</span><br><span class="line">    <span class="comment">// 针对需自定义的部分，做适应的配置，这里加了特殊的前缀</span></span><br><span class="line">    cssVarMap: <span class="function"><span class="keyword">function</span> (<span class="params">sprite</span>) </span>&#123;</span><br><span class="line">      sprite.name = <span class="string">'icons-ipad-'</span> + sprite.name;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>文章里用到的相关代码，已经放在 <a href="https://gist.github.com/hdwills/82d76d5c1b715b861143d19961c40558" target="_blank" rel="noopener">Gist</a> 上了。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Running "sprite:front" (sprite) task</span><br><span class="line">Files "source/sass/_sprites.scss", "source/images/sprites.png", "source/images/sprites-2x.png" created.</span><br><span class="line"></span><br><span class="line">Done, without errors.</span><br></pre></td></tr></table></figure></p>
<p><img src="http://7xtjgk.com2.z0.glb.clouddn.com/grunt-spritesmith-handbook-1.png" alt="grunt-spritesmith-handbook-1.png"><br><img src="http://7xtjgk.com2.z0.glb.clouddn.com/grunt-spritesmith-handbook-2.png" alt="grunt-spritesmith-handbook-2.png"><br>这时候去看生成的 <code>_sprites.scss</code> 文件，这里为了方便管理 <code>css</code> 文件，所以输出了 <code>scss</code> 文件。然后使用的时候直接调用即可，项目中的图标是全部调用的，所以对应的代码如下，生成的 <code>scss</code> 文件中有官方的注释，很好理解：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> sprite.scss;</span><br><span class="line">@include retina-sprites($retina-groups);</span><br></pre></td></tr></table></figure></p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>这时候一切看起来都很美好，貌似问题已经得到了解决。但是问题又来了，在生成的 <code>_sprites.scss</code> 中你会看到，每一个图标对应的语句中，都有 <code>$icons-ipad-rightnav-xxx-image: &#39;../images/sprites.png&#39;;</code>，在编译后的 <code>css</code> 文件中每个图标 class 都会有 <code>background-image: url(../images/sprites.png);</code>，这个就是 <strong>node_modules/grunt-spritesmith/node_modules/spritesheet-templates/lib/templates</strong> 里的模板文件在起作用。模板文件提供了很多种类型的，我这里使用的是 <code>scss</code> 相关的，所以 <a href="https://gist.github.com/hdwills/82d76d5c1b715b861143d19961c40558" target="_blank" rel="noopener">Gist</a> 里暂且只提供了对应的修改内容。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icons-ipad-rightnav-fav</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/sprites.png);</span><br><span class="line">  <span class="attribute">background-position</span>: -<span class="number">24px</span> <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> (-webkit-min-device-pixel-ratio: <span class="number">2</span>), (min-resolution: <span class="number">192dpi</span>) &#123;</span><br><span class="line">  <span class="selector-class">.icons-ipad-rightnav-fav</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/sprites-2x.png);</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">48px</span> <span class="number">48px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icons-ipad-rightnav-line</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/sprites.png);</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> (-webkit-min-device-pixel-ratio: <span class="number">2</span>), (min-resolution: <span class="number">192dpi</span>) &#123;</span><br><span class="line">  <span class="selector-class">.icons-ipad-rightnav-line</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/sprites-2x.png);</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">48px</span> <span class="number">48px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在的目的就是想和 <a href="http://hdwill.info/post/2014/compass-sprite">利用 Compass 生成 Sprite 图片</a> 这里编译后生成的那种，公共属性只出现一次。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icons-sprite</span>, <span class="selector-class">.icons-bell</span>, <span class="selector-class">.icons-briefcase</span>, <span class="selector-class">.icons-globe</span>, <span class="selector-class">.icons-table_tennis</span>, <span class="selector-class">.icons-tree</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'../images/icons-s274ef0b305.png'</span>) no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icons-bell</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icons-briefcase</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: -<span class="number">44px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">21px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在查阅了一番资料后，还是没能很好的解决这个问题，而且对于自定义模板 <code>cssTemplate</code> 这部分也没有很好的理解，所以感觉解决方案没有那么完美。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>对应上面的问题，大概看了下 <strong>node_modules/grunt-spritesmith/node_modules/spritesheet-templates/lib/templates</strong> 里对应的 <code>scss</code> 相关模板，再查阅了部分资料，暂时有了如下的解决方案：</p>
<ol>
<li><p><strong>node_modules/grunt-spritesmith/node_modules/spritesheet-templates/lib/templates/scss.template.handlebars</strong> 在这里面加入相应的代码，使生成的 <code>scss</code> 文件中，各个图标 <code>clsss</code> 只在这里输出，其中用到了属性选择符。</p>
 <figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;&#123;#<span class="name">block</span> <span class="string">"sprites-imageurl"</span>&#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">i[class*="-ipad-"] &#123;</span></span><br><span class="line"><span class="xml">  background-image: url(</span><span class="template-variable">&#123;&#123;&#123;spritesheet.image&#125;&#125;</span><span class="xml">&#125;);</span></span><br><span class="line"><span class="xml">  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) &#123;</span></span><br><span class="line"><span class="xml">    background-image: url(</span><span class="template-variable">&#123;&#123;&#123;retina_spritesheet.image&#125;&#125;</span><span class="xml">&#125;);</span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;&#123;/<span class="name">block</span>&#125;&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>scss.template.handlebars</code>，<code>scss_retina.template.handlebars</code> 里删掉 <code>name_image</code> 相关的配置项；在 <code>scss.template.handlebars</code> 里删掉 <code>sprite-image($sprite)</code> 相关的 <code>mixin</code> 语句。</p>
</li>
<li>结合前面的 Grunt task，其中的 <code>cssVarMap</code> 就是和第 1 步中定义的 <code>block</code> 里的 class 名字是相互对应的。</li>
<li>再次去生成 <code>scss</code> 文件，再编译输出，来看看最终的效果<br> <img src="http://7xtjgk.com2.z0.glb.clouddn.com/grunt-spritesmith-handbook-3.png" alt="grunt-spritesmith-handbook-3.png"></li>
</ol>
<h2 id="相关资料"><a href="#相关资料" class="headerlink" title="相关资料"></a>相关资料</h2><ol>
<li>stackoverflow 上的相关提问 <a href="http://stackoverflow.com/questions/28253983/output-a-single-base-css-class-to-specify-background-image" target="_blank" rel="noopener">Output a single base css class to specify background-image</a></li>
<li>grunt-spritesmith issus <a href="https://github.com/Ensighten/grunt-spritesmith/issues/103" target="_blank" rel="noopener">Css rule optimization</a></li>
</ol>
<p>暂且就这么多了，还是需要多多钻研。或许会有更好的解决办法，比如作者在上面的 issus 里提到的用 <code>cssTemplate</code>，这样不用动源模板，即使多人开发，也不会有影响。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2015/grunt-spritesmith-handbook/" data-id="cjfjqjf6j00161ox8i6sa0nr9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Compass/">Compass</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Grunt/">Grunt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sass/">Sass</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sprite/">Sprite</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spritesmith/">spritesmith</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2015/hard-to-find-fee" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/hard-to-find-fee/" class="article-date">
  <time datetime="2015-05-31T10:13:00.000Z" itemprop="datePublished">2015-05-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/hard-to-find-fee/">推荐阅读：关于前端开发的行业现状和发展分析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我年后重新换了工作，年前的公司因为资金原因导致项目终止，纯属无奈啊。只好再次踏上求职之路，好的是这次找工作已经有了相应的经验，比两年前轻松了许多，但是从业经验增多伴随的也是用人单位对你个人的要求也变高。除了该有的专业技能之外就是个人的互联网从业经验和对产品的参与感，对团队的融入感等。面过几次之后就选择了目前就职的这家公司，项目领导是前领导，一方面是对于项目的认同，一方面是对公司的信任，希望在我们这个项目上，真的能像公司起初这样承诺的，从而实现最终的目标。</p>
<p>话说回来，个人价值的体现就是在这个产品里，最终的成败也是如此。所以一直以来，都是全身心的投入到产品其中，不单单只是个人工作的那一部分，因为是接触的新的行业，除过产品中接触到的之外，需要了解和知道的还有很多，所以在闲暇之余，我还会关注一些同行业的产品，看看他们的产品内容、定位、运营等，通过这样的比较才能更快的对行业有个了解，也对我们产品有更进一步的认知。</p>
<p>放在首位的还是个人专业技能的提升。对于 Front End Developer 人员来说，生活在互联网这个大环境之下，加上 Front End 技术发展如此之快，3 天一个小变换，3 个月一个大变化，这样如此之快的节奏，你得时刻做好充分的准备去适应。说实话，我有时候也很迷茫今后的发展 o-o</p>
<p>本来想来几句鸡汤金句，发现并不能够顺溜的打出来，还是省省吧。遇上了这个行业飞速发展的好时代，还有什么可犹豫的呢，加油！</p>
<p>知乎上的这个问题里的两则回答很棒，给自己看，没事了多思考！因为我觉得这些回答说的很清晰，分析的也很透彻。</p>
<h2 id="推荐阅读"><a href="#推荐阅读" class="headerlink" title="推荐阅读"></a>推荐阅读</h2><ol>
<li><a href="http://www.zhihu.com/question/29875948" target="_blank" rel="noopener">为什么市场上优秀的前端这么少，国外也是这样吗？</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2015/hard-to-find-fee/" data-id="cjfjqjf6n001b1ox857b5fwsy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FEE/">FEE</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2014/compass-sprite" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/compass-sprite/" class="article-date">
  <time datetime="2014-08-05T14:00:00.000Z" itemprop="datePublished">2014-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/compass-sprite/">Compass Sprite</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>相信大家在前端开发这条路不归路上，都为此头疼过，干这件事情不仅费时费力还费眼睛，各种辅助线打上、网格划上，处处精确到像素级别，长期下来想必大家也都有像素对齐强迫症了，唉……说多了都是泪。那就是今天的主角 - 雪碧图（image spriting），至于他的介绍，他的好，他的工作原理也就不必多说了。</p>
<p>不过今天要介绍的新东西，或许能然你不在重操这些枯燥无味的动作，简单配置之后，一切就那么随意的，先放上官方的教程 <a href="http://compass-style.org/help/tutorials/spriting/" target="_blank" rel="noopener">Compass Sprite</a>，下面重点介绍我的个人实践和一些使用经验。</p>
<h2 id="文件准备"><a href="#文件准备" class="headerlink" title="文件准备"></a>文件准备</h2><p>这里我找了 5 枚 24x24 的 <a href="http://glyphicons.com/" target="_blank" rel="noopener">Glyphicons</a> 图标，<code>icons</code> 文件夹里放要拼合的图片资源<br><img src="http://7xtjgk.com1.z0.glb.clouddn.com/compass_sprite_1.png" alt="单个图片资源"><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">images/</span><br><span class="line">├── icons/</span><br><span class="line">│   ├── bell.png</span><br><span class="line">│   ├── tree.png</span><br><span class="line">│   ├── table_tennis.png</span><br><span class="line">│   ├── globe.png</span><br><span class="line">└── └── briefcase.png</span><br></pre></td></tr></table></figure></p>
<h2 id="简单实践"><a href="#简单实践" class="headerlink" title="简单实践"></a>简单实践</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ------ style.scss ------</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">"icons/*.png"</span>; <span class="comment">// icons 是文件夹的名称</span></span><br><span class="line">@<span class="keyword">include</span> all-icons-sprites; <span class="comment">// 这是 compass 定义好的 mixin，一次全部生成 icons 这个文件夹里的所有图片的雪碧图</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ------ style.css ------</span></span><br><span class="line"><span class="selector-class">.icons-sprite</span>, <span class="selector-class">.icons-bell</span>, <span class="selector-class">.icons-briefcase</span>, <span class="selector-class">.icons-globe</span>, <span class="selector-class">.icons-table_tennis</span>, <span class="selector-class">.icons-tree</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">'../images/icons-sbf1475184a.png'</span>) no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icons-bell</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">48px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icons-briefcase</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">72px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 省略部分</span></span><br></pre></td></tr></table></figure>
<p>代码部分就是这些了，看一下之前的目录结构，发现在指定的图片文件夹 <code>images</code> 里已经生成了拼合好的雪碧图 <code>icons-sbf1475184a.png</code>，文件命名是由“指定部分-hash string”，每次在源图片改变时，更新缓存编译之后会生成新的雪碧图。<br><img src="http://7xtjgk.com1.z0.glb.clouddn.com/compass_sprite_2.png" alt="拼合好的雪碧图"></p>
<p>这里再补充一下，官方文档里还导入了 sprite 组件，个人在使用中发现会报错，就去除了。编译时通过 compass command 是没有任何问题的。<a href="http://compass-style.org/help/tutorials/production-css/" target="_blank" rel="noopener">Compass Command Line Documentation</a></p>
<p>大概是和当前项目配置文件有关，所以建议在没有配置文件的前提下，先用 <code>creat</code> 命令创建项目，在对配置文件进行相应的更改。我是在 grunt-compass 中处理的，没有单独进行这些操作。</p>
<p>关于编译时路径报错，可以在 <code>config.rb</code> 里根据自己的需求，添加或更改配置项。<a href="http://compass-style.org/help/tutorials/integration/" target="_blank" rel="noopener">Application Integration</a></p>
<h2 id="手动指定类名"><a href="#手动指定类名" class="headerlink" title="手动指定类名"></a>手动指定类名</h2><p>有时候会遇到这种情况，带有雪碧图属性的 class 自身还有其余属性，就需要单独去定义。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ------ style.scss ------</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">"icons/*.png"</span>;</span><br><span class="line"><span class="selector-class">.icons-bell</span> &#123;</span><br><span class="line">  @<span class="keyword">include</span> icons-sprite(bell); <span class="comment">// 注意 mixin 的名称要一致</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ------ style.css ------</span></span><br><span class="line"><span class="selector-class">.icons-sprite</span>, <span class="selector-class">.icons-bell</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">'../images/icons-sbf1475184a.png'</span>) no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icons-bell</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">48px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 省略部分</span></span><br></pre></td></tr></table></figure></p>
<p>但是从生成的雪碧图，我看到的仍然将整个文件夹里的全部生成了，这里作为标记，等我去查查资料。</p>
<h2 id="个性配置"><a href="#个性配置" class="headerlink" title="个性配置"></a>个性配置</h2><ol>
<li><p>输出布局 <a href="http://compass-style.org/help/tutorials/spriting/sprite-layouts/" target="_blank" rel="noopener">Sprite Layouts</a><br> 从图中我们可以看到，默认输出的雪碧图是按各个图片，垂直排列的。Compass 提供了：<code>Vertical</code>, <code>Horizontal</code>, <code>Diagonal</code>, <code>Smart</code>，默认以 Vertical 输出。</p>
 <figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$icons-layout</span>: smart; <span class="comment">// &#123;文件夹名称&#125;-layout</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>控制间距<br> 为每个图片加入空白间隙，此处指定为 <code>10px</code></p>
 <figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$icons-spacing</span>: <span class="number">10px</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>自动获取当前图片的尺寸</p>
 <figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$icons-sprite-dimensions</span>: true;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>配置语句，都写在最前。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ------ style.scss ------</span></span><br><span class="line"><span class="variable">$icons-sprite-dimensions</span>: true;</span><br><span class="line"><span class="variable">$icons-spacing</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="variable">$icons-layout</span>: horizontal;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"icons/*.png"</span>;</span><br><span class="line">@<span class="keyword">include</span> all-icons-sprites;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Command</span></span><br><span class="line">&gt;&gt;&gt; Change detected at 23:<span class="number">04</span>:<span class="number">38</span> to: sass-color.scss</span><br><span class="line">remove images/icons-sfcd98984f1.png</span><br><span class="line">create images/icons-s274ef0b305.png</span><br><span class="line">overwrite css/sass-color.css </span><br><span class="line"></span><br><span class="line">// ------ style.css ------</span><br><span class="line">.icons-sprite, .icons-bell, .icons-briefcase, .icons-globe, .icons-table_tennis, .icons-tree &#123;</span><br><span class="line">  background: url(<span class="string">'../images/icons-s274ef0b305.png'</span>) no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icons-bell</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icons-briefcase</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: -<span class="number">44px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">21px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 省略部分</span></span><br></pre></td></tr></table></figure></p>
<p><img src="http://7xtjgk.com1.z0.glb.clouddn.com/compass_sprite_3.png" alt="带参数后输出的图片"></p>
<h2 id="拓展阅读"><a href="#拓展阅读" class="headerlink" title="拓展阅读"></a>拓展阅读</h2><ol>
<li><a href="http://segmentfault.com/q/1010000000308179" target="_blank" rel="noopener">如何禁止 Compass 对生成的 Sprite 图片名字添加随机字符？</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2014/compass-sprite/" data-id="cjfjqjf66000q1ox8wvv3pxm8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Compass/">Compass</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sass/">Sass</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sprite/">Sprite</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2014/gruntjs-livereload" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/gruntjs-livereload/" class="article-date">
  <time datetime="2014-06-30T14:00:00.000Z" itemprop="datePublished">2014-06-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/gruntjs-livereload/">Grunt - LiveReload页面自动刷新</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在整理这篇文章的时候，默默的看了下键盘上的<code>F5</code>，是不是闪闪发亮，油头粉面的。和他一样的当然也少不了 <code>ctrl</code> <code>alt</code> <code>s</code>。因为传统的流程就是编辑器里 codding，ctrl+s，浏览器里 F5 刷新浏览，即使是你熟练于心、一气呵成。但是当你使用了自动刷新之后再配上强大的编辑器，剩下的只是专心 codding 了，若是配备双屏显示器，那效率绝对成倍成直线飙升。</p>
<p>先介绍下要用到的插件，具体安装就不单独说明了，每个插件也都有对应的文档说明：</p>
<ul>
<li><p>grunt-contrib-connect<br>  静态文件服务器</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Gruntfile.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 配合 livereload 使用，建立本地静态调试环境</span></span><br><span class="line"><span class="comment">// https://www.npmjs.org/package/grunt-contrib-connect</span></span><br><span class="line">connect: &#123;</span><br><span class="line">    options: &#123;</span><br><span class="line">        port: <span class="number">11011</span>,</span><br><span class="line">        hostname: <span class="string">"localhost"</span>,</span><br><span class="line">        base: <span class="string">"."</span>,</span><br><span class="line">        livereload: <span class="number">35729</span></span><br><span class="line">    &#125;,</span><br><span class="line">    all: &#123;</span><br><span class="line">        options: &#123;</span><br><span class="line">            open: <span class="literal">true</span>,</span><br><span class="line">            base: [</span><br><span class="line">                <span class="string">"."</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>grunt-contrib-watch<br>  监视文件的变化</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Gruntfile.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 资源监控，主要用在开发时自动刷新浏览器</span></span><br><span class="line"><span class="comment">// https://www.npmjs.org/package/grunt-contrib-watch</span></span><br><span class="line">watch: &#123;</span><br><span class="line">    options: &#123;</span><br><span class="line">        spawn: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    style: &#123;</span><br><span class="line">        files: [<span class="string">"sass/**/*.scss"</span>],</span><br><span class="line">        tasks: [<span class="string">"compass"</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    livereload: &#123;</span><br><span class="line">        files: [</span><br><span class="line">            <span class="string">"./theme*/*.html"</span>,</span><br><span class="line">            <span class="string">"./theme*/*.css"</span></span><br><span class="line">        ],</span><br><span class="line">        options: &#123;</span><br><span class="line">            livereload: <span class="string">'&lt;%= connect.options.livereload %&gt;'</span> <span class="comment">// this port must be same with the connect livereload port</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置任务</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Gruntfile.js</span></span><br><span class="line"></span><br><span class="line">grunt.registerTask(<span class="string">"livereload"</span>, [<span class="string">"connect:all"</span>, <span class="string">"watch"</span>]);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>通过这次记录，回过头又翻了一下官方文档，发现在目前这个 basic 配置只是勉强能用，还有很多需要改进提升的地方。因为插件也在不断更新，加入了更多的功能。在 <code>connect</code> 和 <code>watch</code> 的主页看到，功能还是很丰富的。特别是 <code>content</code> 里已经有了 <code>open</code> 功能，那样的话就会少用到一个插件。</p>
<p>通过最近在 Grunt 中的尝试，用在项目中只是略微在开发过程中提升了效率，也只是基础使用，有空了看看说明文档，发现更多高级的功能，还是很不错的。比如有时候插件在更新之后会加入新特性，而自己的配置文件只是起初对于项目适用之后，就不会再做更新和改进，思想还是停留在起初到头来并没有多少提升，还是着重要培养思想。</p>
<p>更新：后来看了文档，grunt-contrib-watch 已经内置 Livereload，以上的内容我做了修改。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2014/gruntjs-livereload/" data-id="cjfjqjf69000t1ox8l62plri7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Grunt/">Grunt</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2014/gruntjs-imagemin" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/gruntjs-imagemin/" class="article-date">
  <time datetime="2014-06-24T13:00:00.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/gruntjs-imagemin/">Grunt - imagemin图像压缩</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>项目前端构建部分引入了 <a href="http://www.gruntjs.com/" target="_blank" rel="noopener">Grunt</a>，便于各项处理任务的自动化管理和运行，重复性的任务都交给工具去完成，代码编译、规范校验、单元测试等，一次配置终生受用！他会按照你预先设定好的顺序自动执行各个任务。</p>
<p>关于 Grunt 的前世今生我就不做介绍了，这里只做使用介绍，也是项目开发中的部分经验积累和记录。</p>
<p>项目上线前，都要对网站进行各项测试，前端这部分我们首要考虑的是对图片的压缩，因为我用 PageSpeed 检测的时候，这部分直接飙红了，提示压缩后最大限度降低有效负荷，这都是在开发时，切图没有输出最优图片而导致。以前处理方式，或许会在工具里重新输出图片，还有 <a href="http://www.smushit.com/ysmush.it/" target="_blank" rel="noopener">Yahoo - Smush.it</a> 上传处理等……这些工具在很大程度上也帮我们不少忙，但难免在你开发的时候要多工具的来回切换，输出保存等。今天我们借助 Grunt 就能很轻松的完成这些任务，而且是在你不经意之间就会默默的完成，是不是很人性、很省心！</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 安装插件</span></span><br><span class="line">npm install grunt-contrib-imagemin --save-dev</span><br><span class="line"><span class="comment">// 加载插件(Gruntfile.js)</span></span><br><span class="line">grunt.loadNpmTasks(<span class="string">'grunt-contrib-imagemin'</span>);</span><br><span class="line"><span class="comment">// 配置插件(图片压缩)</span></span><br><span class="line">imagemin: &#123;</span><br><span class="line">    dynamic: &#123;</span><br><span class="line">        options: &#123;</span><br><span class="line">            optimizationLevel: <span class="number">3</span> <span class="comment">// png图片优化水平，3是默认值，取值区间0-7</span></span><br><span class="line">        &#125;,</span><br><span class="line">        files: [</span><br><span class="line">            &#123;</span><br><span class="line">                expand: <span class="literal">true</span>, <span class="comment">// 开启动态扩展</span></span><br><span class="line">                cwd: <span class="string">"images/"</span>, <span class="comment">// 当前工作路径</span></span><br><span class="line">                src: [<span class="string">"**/*.&#123;png,jpg,gif&#125;"</span>], <span class="comment">// 要出处理的文件格式(images下的所有png,jpg,gif)</span></span><br><span class="line">                dest: <span class="string">"images/"</span> <span class="comment">// 输出目录(直接覆盖原图)</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>配置好之后，运行 grunt imagemin<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Running &quot;imagemin:dynamic&quot; (imagemin) task</span><br><span class="line">✔ images/about_1.jpg (already optimized)</span><br><span class="line">...</span><br><span class="line">✔ images/sprites-s4e83c27da3.png (saved 10.92 kB - 8%)</span><br><span class="line">...</span><br><span class="line">Minified 69 images (saved 255.81 kB)</span><br></pre></td></tr></table></figure></p>
<p>在安装插件的时候，会出现 <code>pre-build...failed</code> 相关字眼的错误，就试试删除后，再重新安装。或者先安装 <code>npm install jpegtran-bin --save-dev</code>，应该是这个和 <code>imagemin</code> 有依赖关系。</p>
<p>其中 <code>option</code> 里还有一些高级配置，关于 <code>optimizationLevel</code> 也有详细的解释，有兴趣的可以详细阅读。<a href="https://github.com/gruntjs/grunt-contrib-imagemin" target="_blank" rel="noopener">grunt-contrib-imagemin</a>。</p>
<ol>
<li>Grunt 中文社区 - <a href="http://gruntjs.org/" target="_blank" rel="noopener">http://gruntjs.org/</a></li>
<li>Grunt 官网 - <a href="http://gruntjs.com/" target="_blank" rel="noopener">http://gruntjs.com/</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2014/gruntjs-imagemin/" data-id="cjfjqjf63000m1ox8t2tgnabj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Grunt/">Grunt</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2014/sass-function-color" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/sass-function-color/" class="article-date">
  <time datetime="2014-06-17T11:00:00.000Z" itemprop="datePublished">2014-06-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/sass-function-color/">Sass 学习笔记 - 颜色函数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这篇主要是记录下日常工作中常用的颜色函数，虽然不是射击狮但是要有一颗爱设计的心！</p>
<p>自从开始在项目中使用 Sass 之后，对其各个基本功能都得接触到。熟练使用工具，事半功倍提高搬砖效率，老板要是看到我这话，会给加薪吗？</p>
<p>在接手设计稿之后，不一定各处都给你标注的非常具体详细。难免有时候得自己动手，借助别的工具去获取颜色值，然后再相应的去拓展。有时候也会用到比如相近色、互补色，调节饱和度、亮度……是不是听着都专业！毕竟不是以设计为主，其实我常用的就是 <code>lighten()</code>、<code>darken()</code>、<code>saturate()</code>，<code>desaturate()</code> 这几个而已 &gt;_&lt;，这个主要是用在 <code>background</code>、<code>border</code>、<code>:hover</code>，要是在以前，我肯定要在取色工具里，然后在基础色上调节，自从有了颜色函数之后，就省事儿多了，继续停留在编辑器里搞定。</p>
<p><a href="http://sass-lang.com/documentation/Sass/Script/Functions.html" target="_blank" rel="noopener">Sass 颜色函数文档</a>、<a href="http://compass-style.org/reference/compass/helpers/colors/" target="_blank" rel="noopener">Compass 颜色函数文档</a>，下面就介绍几个我常用的：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 以下使用的是定义的这些颜色变量，在颜色函数中既可以使用变量，也可以使用颜色值</span><br><span class="line">$primary: #eb594a;</span><br><span class="line">$dark: #2e3740;</span><br><span class="line">$price: #f13536;</span><br></pre></td></tr></table></figure>
<h5 id="darken-color-amount-amp-lighten-color-amount"><a href="#darken-color-amount-amp-lighten-color-amount" class="headerlink" title="darken($color, $amount) &amp; lighten($color, $amount)"></a>darken($color, $amount) &amp; lighten($color, $amount)</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">color: darken($primary, 15%); // 亮度降低15%</span><br><span class="line">background-color: lighten($dark, 10%); // 亮度提高10%</span><br><span class="line">// === Compile ===</span><br><span class="line"><span class="selector-class">.func1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#d12817</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#43505e</span>; &#125;</span><br></pre></td></tr></table></figure>
<h5 id="desaturate-color-amount-amp-saturate-color-amount"><a href="#desaturate-color-amount-amp-saturate-color-amount" class="headerlink" title="desaturate($color, $amount) &amp; saturate($color, $amount)"></a>desaturate($color, $amount) &amp; saturate($color, $amount)</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">color: desaturate($primary, 15%); // 饱和度降低15%</span><br><span class="line">background-color: saturate($dark, 10%); // 饱和度提高10%</span><br><span class="line">// === Compile ===</span><br><span class="line"><span class="selector-class">.func2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dc6559</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#293746</span>; &#125;</span><br></pre></td></tr></table></figure>
<h5 id="complement-color-互补-amp-adjust-hue-color-degrees-色调调节"><a href="#complement-color-互补-amp-adjust-hue-color-degrees-色调调节" class="headerlink" title="complement($color) 互补 &amp; adjust-hue($color, $degrees) 色调调节"></a>complement($color) 互补 &amp; adjust-hue($color, $degrees) 色调调节</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">color: complement($price); // 基于 HSL 颜色标准将原色值旋转 180 度后获得相对应的颜色值</span><br><span class="line">background: adjust-hue($price, 180deg); // 改变色调的度数改变颜色值，这里的 180deg 正好和上面的 complement 具有相同的功能</span><br><span class="line">// === Compile ===</span><br><span class="line"><span class="selector-class">.func3</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#35f1f0</span>; &#125;</span><br><span class="line"><span class="selector-class">.func4</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#35f1f0</span>; &#125;</span><br></pre></td></tr></table></figure>
<h5 id="invert-color-反色"><a href="#invert-color-反色" class="headerlink" title="invert($color) 反色"></a>invert($color) 反色</h5><p>反色函数制作红、绿、蓝的颜色值的反向，不可以改变透明度。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">color: invert($price);</span><br><span class="line">// === Compile ===</span><br><span class="line"><span class="selector-class">.func5</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0ecac9</span>; &#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="transparentize-color-amount-透明化-amp-fade-out-color-amount-渐隐"><a href="#transparentize-color-amount-透明化-amp-fade-out-color-amount-渐隐" class="headerlink" title="transparentize($color, $amount) 透明化 &amp; fade-out($color, $amount) 渐隐"></a>transparentize($color, $amount) 透明化 &amp; fade-out($color, $amount) 渐隐</h5><p>这里在看文档的时候，有点不太明白，等明天在调色板里看看效果对比吧。</p>
<p>和下面介绍的函数效果正好相反，效果是让颜色变得更加不透明，但是为何还要加个参数呢，大概是在原有色值上“加重”这么多？<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">color: transparentize($primary, .3);</span><br><span class="line">background-color: fade-out($primary, .3);</span><br><span class="line">// === Compile ===</span><br><span class="line"><span class="selector-class">.fun6</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(235, 89, 74, 0.7);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(235, 89, 74, 0.7); &#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="rgba-red-green-blue-alpha"><a href="#rgba-red-green-blue-alpha" class="headerlink" title="rgba($red, $green, $blue, $alpha)"></a>rgba($red, $green, $blue, $alpha)</h5><p>在看了编译之后的结果，是不是感觉和 rgba() 函数的效果一致呢？好，那就顺带说一下这个函数吧：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">color: rgba($primary, .3);</span><br><span class="line">// === Compile ===</span><br><span class="line"><span class="selector-tag">color</span>: <span class="selector-tag">rgba</span>(235, 89, 74, 0<span class="selector-class">.3</span>);</span><br></pre></td></tr></table></figure></p>
<h5 id="opacify-color-amount-不透明化-amp-fade-in-color-amount-渐现"><a href="#opacify-color-amount-不透明化-amp-fade-in-color-amount-渐现" class="headerlink" title="opacify($color, $amount) 不透明化 &amp; fade-in($color, $amount) 渐现"></a>opacify($color, $amount) 不透明化 &amp; fade-in($color, $amount) 渐现</h5><p>实现的效果正好和上面的函数相反<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">color: fade-in($primary, .3);</span><br><span class="line">background-color: opacify($primary, .3);</span><br><span class="line">// === Compile ===</span><br><span class="line"><span class="selector-class">.fun7</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eb594a</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eb594a</span>; &#125;</span><br></pre></td></tr></table></figure></p>
<p>以上这 5 个函数都需要传递 alpha 值，必须小与 1（0 为完全透明）。不知大家发现了没，其中那两对效果相反的函数，其中透明化函数，传值和编译后的透明度值互补；而不透明化函数，传值后编译的结果却和原色值相同，不传值就会编译报语法错误。这个是个疑问，在书中翻了一下，只有很随意的 demo，没有做详细解释。看来还是要多实践，不然书就是白看了。去翻了下官方文档，才发现了其中的缘由：其中 color 这个参数，若不是以 rgba 格式写出 alpha 的值，那就默认是 1；与后面给出的 amount 参数相加或者相减，即使超过 1，结果还是 16 进制的色值。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">color</span>: <span class="selector-tag">fade-in</span>(<span class="selector-tag">rgba</span>(235, 89, 74, <span class="selector-class">.3</span>), <span class="selector-class">.1</span>);</span><br><span class="line"><span class="selector-tag">background-color</span>: <span class="selector-tag">opacify</span>(<span class="selector-tag">rgba</span>(235, 89, 74, <span class="selector-class">.9</span>), <span class="selector-class">.3</span>);</span><br><span class="line">// === Compile ===</span><br><span class="line"><span class="selector-tag">color</span>: <span class="selector-tag">rgba</span>(235, 89, 74, 0<span class="selector-class">.4</span>);</span><br><span class="line"><span class="selector-tag">background-color</span>: <span class="selector-id">#eb594a</span>;</span><br></pre></td></tr></table></figure>
<h5 id="grayscale-color"><a href="#grayscale-color" class="headerlink" title="grayscale($color)"></a>grayscale($color)</h5><p>将参数里的颜色值转换为相应的灰度颜色<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">color</span>: <span class="selector-tag">grayscale</span>(<span class="selector-tag">rgba</span>(235, 89, 74, <span class="selector-class">.3</span>));</span><br><span class="line">// === Compile ===</span><br><span class="line"><span class="selector-tag">color</span>: <span class="selector-tag">rgba</span>(155, 155, 155, 0<span class="selector-class">.3</span>);</span><br></pre></td></tr></table></figure></p>
<p>简单的函数简介就先记录这么几个，还有几个参数稍多的函数，目测下面这几个感觉更负责，伴随着功能那就更强大了！有兴趣的可以去官方文档围观学习。</p>
<h5 id="mix-color1-color2-weight"><a href="#mix-color1-color2-weight" class="headerlink" title="mix($color1, $color2, [$weight])"></a>mix($color1, $color2, [$weight])</h5><h5 id="scale-color-color-red-green-blue-saturation-lightness-alpha"><a href="#scale-color-color-red-green-blue-saturation-lightness-alpha" class="headerlink" title="scale-color($color, [$red], [$green], [$blue], [$saturation], [$lightness], [$alpha])"></a>scale-color($color, [$red], [$green], [$blue], [$saturation], [$lightness], [$alpha])</h5><h5 id="adjust-color-color-red-green-blue-hue-saturation-lightness-alpha"><a href="#adjust-color-color-red-green-blue-hue-saturation-lightness-alpha" class="headerlink" title="adjust-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])"></a>adjust-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])</h5>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2014/sass-function-color/" data-id="cjfjqjf6b000w1ox8nht7bf2m" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sass/">Sass</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2014/sass-project-structure" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/sass-project-structure/" class="article-date">
  <time datetime="2014-06-02T01:00:00.000Z" itemprop="datePublished">2014-06-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/sass-project-structure/">Sass 学习笔记 - 项目文件结构</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>项目开始之前接触过 Sass，这次开始开发之前已经下定决心，将 Sass 引入开发环境中。</p>
<p>起初大致是这么安排的：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sass /</span><br><span class="line">├── _variables.scss</span><br><span class="line">├── _mixins.scss</span><br><span class="line">├── _reset.scss</span><br><span class="line">├── _grid.scss</span><br><span class="line">├── _buttons.scss</span><br><span class="line">├── _iconfont.scss</span><br><span class="line">......</span><br><span class="line">├── _home.scss</span><br><span class="line">├── _index.scss</span><br><span class="line">......</span><br><span class="line">├── style.scss</span><br></pre></td></tr></table></figure>
<p>其中 <code>_grid.scss</code> 这种命名带有 <code>_</code>，都是当做 <code>@import</code> 导入使用的，这也是告诉 Sass 在编译的时候，不会编译输出这类文件。因为在使用 Grunt 时会监控目录整个目录的变化，从而再编译输出。</p>
<p>但是在使用中，后期发现随着代码量的增多，最终输出的是根目录下的 <code>style.scss -&gt; style.css</code> 文件体积越来越大，虽然最终输出的时候加了 <code>compressed</code> 但是 200k 的体积还是不太令人满意。</p>
<p>而且你或许会觉得，sass 文件夹里文件杂乱，因为我们单个文件都是分门别类的命名，难免文件数目会逐渐增多。按照相应的使用场景，按需调用 <code>@import</code>，再输出。比如专题页里，<code>_home.scss, _news.scss</code> 这类的，页面所需的只是部分样式模块，这时这种拆分式的代码安排，然后再按需组织，是不是觉得非常得心应手呢。</p>
<p>比如 reset 这部分，我后来改成 <a href="http://necolas.github.io/normalize.css/" target="_blank" rel="noopener">normalize.css</a> 并且还是 <a href="http://www.staticfile.org/" target="_blank" rel="noopener">staticfile</a> 的 CDN 服务；iconfont 这部分改为 <a href="http://fortawesome.github.io/Font-Awesome/" target="_blank" rel="noopener">Font-Awesome</a>，也使用了 CDN 服务。</p>
<p>后来在逐渐使用中，发现了项目中的文件结构，不管怎么安排还是应该尽可能的让大家在组织起来都觉得顺手。所以在起初构建的时候，按照需求大致分配一下相应的功能模块，然后再具体实施，毕竟各个项目都有特性，但是基础部分应该都适用。</p>
<p>其实还有个更好的途径，就是去 Github 上观摩大神的项目，就能从中慢慢领悟。列举几个前端框架，大家可以参考学习。特别是 twbs，大概是从 3.1 之后加入了 Official Sass port，之前一直只有 Less。当然了也有别的朋友的 Repo，是由 Less -&gt; Sass，现在已经有了官方版。</p>
<ol>
<li><a href="https://github.com/twbs/bootstrap-sass" target="_blank" rel="noopener">bootstrap-sass</a></li>
<li><a href="https://github.com/zurb/foundation" target="_blank" rel="noopener">foundation</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2014/sass-project-structure/" data-id="cjfjqjf6h00131ox88vwmtar6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Bootstrap/">Bootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Compass/">Compass</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sass/">Sass</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2014/sass-extend-placehoder" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/sass-extend-placehoder/" class="article-date">
  <time datetime="2014-05-02T01:00:00.000Z" itemprop="datePublished">2014-05-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/sass-extend-placehoder/">Sass 学习笔记 - @extend, placeholder</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近在读 《Sass and Compass for Designers》中文版，之前关注过，等了一阵子之后看到中文版面世了，就迫不及待的买了过来，主要是英文水平太渣，只好看中文。</p>
<p>现在就 Sass 中的两项常用功能，也是作为初学者容易混淆的两个概念，作为读书笔记，记录一下。</p>
<h2 id="使用-extend-命令拓展现有代码"><a href="#使用-extend-命令拓展现有代码" class="headerlink" title="使用 @extend 命令拓展现有代码"></a>使用 @extend 命令拓展现有代码</h2><pre><code>使用 @extend 命令可扩展另一种样式，可让任何样式继承其他样式定义好的属性和值。
</code></pre><p>我自己理解就是，多个元素的共有属性，就将这些共有属性定义为基础样式组建，然后其余个性化的组件，都是通过这个基础组件来扩展，之前在项目中用到的不多，通常分不清 <strong>@extend</strong> 和 <strong>placeholder</strong> 这两者的使用场景。</p>
<p>下面我们通过书中的代码，来进一步理解：见P76，书中列举的这个例子，经常都能用到。</p>
<p>对话框：基础通用提示、信息提示、错误提示、成功提示等，这个组件的共性很容易能找到，其余个性化的都是在这个基础上去拓展即可。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// variables</span><br><span class="line">$text-color: #666;</span><br><span class="line">$default-bg: #ddd;</span><br><span class="line">$state-info-border: #369;</span><br><span class="line">$state-warning-border: #fcf8e3;</span><br><span class="line">// default</span><br><span class="line"><span class="selector-class">.alert</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: $text-color;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">background</span>: $default-bg;</span><br><span class="line">&#125;</span><br><span class="line">// info</span><br><span class="line"><span class="selector-class">.alert-info</span> &#123;</span><br><span class="line">    @extend .alert;</span><br><span class="line">    border: 1px solid $state-info-border;</span><br><span class="line">&#125;</span><br><span class="line">// warning</span><br><span class="line"><span class="selector-class">.alert-warning</span> &#123;</span><br><span class="line">    @extend .alert;</span><br><span class="line">    border: 1px solid $state-warning-border;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先看一下编译之后的代码吧 :)<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.alert</span>, <span class="selector-class">.alert-info</span>, <span class="selector-class">.alert-warning</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#666666</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#dddddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.alert-info</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#336699</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.alert-warning</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fcf8e3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>其实，我本想试试 twbs 里的 alert 组件改写，无奈没有尝试成功。书中提示了，上述代码中，最终 定义的类 <code>.alert</code> 并没有使用，其实只充当了声明，让后续的用来拓展，这里就引出了 <strong>placeholder</strong> 来解决这个问题。</p>
<h2 id="使用占位符选择器来扩展需要的样式"><a href="#使用占位符选择器来扩展需要的样式" class="headerlink" title="使用占位符选择器来扩展需要的样式"></a>使用占位符选择器来扩展需要的样式</h2><p>使用占位符选择器，来定义注视用来做扩展的那些代码。请注意开头位置的占位符选择器 <code>%</code>：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// variables</span><br><span class="line">$text-color: #666;</span><br><span class="line">$default-bg: #ddd;</span><br><span class="line">$state-info-border: #369;</span><br><span class="line">$state-warning-border: #fcf8e3;</span><br><span class="line">// default</span><br><span class="line">%<span class="selector-tag">alert</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: $text-color;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">background</span>: $default-bg;</span><br><span class="line">&#125;</span><br><span class="line">// info</span><br><span class="line"><span class="selector-class">.alert-info</span> &#123;</span><br><span class="line">    @extend %alert;</span><br><span class="line">    border: 1px solid $state-info-border;</span><br><span class="line">&#125;</span><br><span class="line">// warning</span><br><span class="line"><span class="selector-class">.alert-warning</span> &#123;</span><br><span class="line">    @extend %alert;</span><br><span class="line">    border: 1px solid $state-warning-border;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>再来看一下编译之后的代码吧 :)<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.alert-info</span>, <span class="selector-class">.alert-warning</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#666666</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#dddddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.alert-info</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#336699</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.alert-warning</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fcf8e3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<pre><code>使用占位符选择器，出了扩展的代码职位，不会生存任何冗余代码。
</code></pre><p>不同的定义方式，对应不同的调用语法来扩展，还是代码看着最直观。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hdwill.info/2014/sass-extend-placehoder/" data-id="cjfjqjf6e00101ox8pbbcqia7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Compass/">Compass</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sass/">Sass</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Share/">Share</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tech/">Tech</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bootstrap/">Bootstrap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS-Variables/">CSS Variables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Compass/">Compass</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FEE/">FEE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Font-Awesome/">Font Awesome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Grunt/">Grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PDF-js/">PDF.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ruby/">Ruby</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SASS/">SASS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SCSS/">SCSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sass/">Sass</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sprite/">Sprite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UED/">UED</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google/">google</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/greader/">greader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/icomoon/">icomoon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/icon-font/">icon font</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/img/">img</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kindle/">kindle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lumia/">lumia</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nokia/">nokia</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/paperwhite/">paperwhite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reader/">reader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/responsive/">responsive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spritesmith/">spritesmith</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/twitter-bootstrap/">twitter bootstrap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/viewport/">viewport</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Bootstrap/" style="font-size: 10px;">Bootstrap</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CSS-Variables/" style="font-size: 10px;">CSS Variables</a> <a href="/tags/Compass/" style="font-size: 17.5px;">Compass</a> <a href="/tags/FEE/" style="font-size: 10px;">FEE</a> <a href="/tags/Font-Awesome/" style="font-size: 10px;">Font Awesome</a> <a href="/tags/Grunt/" style="font-size: 15px;">Grunt</a> <a href="/tags/PDF-js/" style="font-size: 10px;">PDF.js</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/SASS/" style="font-size: 10px;">SASS</a> <a href="/tags/SCSS/" style="font-size: 10px;">SCSS</a> <a href="/tags/Sass/" style="font-size: 20px;">Sass</a> <a href="/tags/Sprite/" style="font-size: 12.5px;">Sprite</a> <a href="/tags/UED/" style="font-size: 10px;">UED</a> <a href="/tags/google/" style="font-size: 10px;">google</a> <a href="/tags/greader/" style="font-size: 10px;">greader</a> <a href="/tags/icomoon/" style="font-size: 10px;">icomoon</a> <a href="/tags/icon-font/" style="font-size: 10px;">icon font</a> <a href="/tags/img/" style="font-size: 10px;">img</a> <a href="/tags/kindle/" style="font-size: 10px;">kindle</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/lumia/" style="font-size: 10px;">lumia</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/nokia/" style="font-size: 10px;">nokia</a> <a href="/tags/paperwhite/" style="font-size: 10px;">paperwhite</a> <a href="/tags/reader/" style="font-size: 10px;">reader</a> <a href="/tags/responsive/" style="font-size: 12.5px;">responsive</a> <a href="/tags/spritesmith/" style="font-size: 10px;">spritesmith</a> <a href="/tags/twitter-bootstrap/" style="font-size: 10px;">twitter bootstrap</a> <a href="/tags/viewport/" style="font-size: 12.5px;">viewport</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">五月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">七月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">五月 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/Learn-CSS-Variables-in-5-minutes/">【译】CSS Variables 快速上手</a>
          </li>
        
          <li>
            <a href="/2017/Setup-PDF.js-in-your-website/">PDF.js 本地部署</a>
          </li>
        
          <li>
            <a href="/2015/grunt-spritesmith-handbook/">grunt-spritesmith 使用笔记</a>
          </li>
        
          <li>
            <a href="/2015/hard-to-find-fee/">推荐阅读：关于前端开发的行业现状和发展分析</a>
          </li>
        
          <li>
            <a href="/2014/compass-sprite/">Compass Sprite</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 hdwills<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>